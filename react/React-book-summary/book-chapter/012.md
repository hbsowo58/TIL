<h1>immer를 사용하여 더 쉽게 불변성 유지하기</h1>

객체를 복사하고 새로운값을 덮어쓸때는, 전개연산자나 내장함수를 사용하면 쉽다.

문제는 객체의 구조가 깊어지면 불변성을 유지하면서 업데이트 하기 어렵다

-> immer 라이브러리를 사용하면 불변성을 유지하면서 업데이트 가능하다

---

프로젝트 준비

```react
yarn create react-app immer-tutorial
cd immer-tutorial
yarn add immer
```

---

사용법

produce 함수 (두가지 파라미터) 첫 번째 수정하고 싶은상태,

두번째 어떻게 업데이트 할지 정의하는 함수

```react
produce(originalState,draft => {
	draft.somewhere.deep.inside = 5;
})
```

-> 이 라이브러리의 핵심: 불변성에 신경 쓰지 않는 것 처럼 코드를 작성하되, 불변성 관리는 제대로 해주는것

---

immer를 사용하여 컴포넌트 상태를 작성할 때는 객체 안에 있는 값 직접수정, 배열에 직접적인 변화를 일으키는 push, splice등의 함수 사용해도 무방

---

produce 함수를 호출할 때, 첫 번째 파라미터가 함수 형태라면 업데이트 함수를 반환

---

정리

immer 라이브러리는 컴포넌트 상태 업데이트가 조금 까다로울 떄 사용하면 좋음,

리덕스를 배워서 사용할때도 immer를 쓰면 코드 쉽게 작성가능

-> 생산성을 크게 높일 수 있음, 불편하다면 사용하지 않아도 됨



